{{extend 'layout.html'}}
{{ if clientes: }}
    <h2>Lista de Clientes Cadastrados</h2>
    
    <!-- Formulario de pesquisa -->
    <fieldset>
        <legend>Pesquisa</legend>
        <form action="{{=URL('pesquisa')}}" method="post">
            <label for="nome">Pesquisar pelo Nome: </label>
            <input type="text" name="nome" id="nome" class="pesquisa" />
            <input type="submit" value="{{=T('Submit')}}" />
        </form>
    </fieldset>
    <br />
    <!-- Lista de clientes -->
    <table class="lista">
        <tr>
            <th>Editar</th>
            <th>Excluir</th>
            <th>Nome do Cliente</th>
            <th>Telefone</th>
            <th>Email</th>
            <th>Anivers√°rio</th>
        </tr>
        {{ for cliente in clientes: }}
            <tr>
                <td><a href="{{=URL(request.application, 'clientes','editar', args = cliente.id)}}">Editar</a></td>
                <td><a href="{{=URL(request.application, 'clientes','excluir', args = cliente.id)}}">Excluir</a></td>
                <td><a href="{{=URL(request.application, 'clientes','detalhes', args = cliente.id)}}">{{=cliente.nome}}</a></td>
                <td>{{=cliente.telefone}}</td>
                <td>{{=cliente.email}}</td>
                <td>{{=cliente.aniversario.strftime("%d/%m/%Y")}}</td>
            </tr>
        {{pass}}
    </table>
    {{=table}}
{{ else: }}
    <center>
        <h3>{{=mensagem}}</h3>
    </center>
{{pass}}
<br />
<div class="navegacao">
    <center><a href="{{=URL(request.application, 'clientes','novo')}}">Novo Cliente</a></center>
</div>
